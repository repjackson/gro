
                    
template(name='question_view')
    with current_doc
        .ui.stackable.padded.grid
            .row 
                .sixteen.wide.center.aligned.column
                    if is_editing
                        +text_edit key='title' label='title' input_class='fluid large' d=true
                    else
                        .ui.header(class=question_header_class) #{title}
            .row 
                .five.wide.column
                    .ui.grey.inline.header 
                        i.calculator.icon
                        |alpha
                    .ui.icon.large.circular.button(title='call tone')
                        i.smile.icon
                        |tone
                    .ui.icon.large.circular.button(title='call alpha')
                        i.brain.icon
                        |watson
                    .ui.large.circular.button(title='call duck')
                        i.search.icon
                        |duck it
                .six.wide.column
                    if url 
                        a(href=url target='_window') #{url}
                        img.ui.image(src=url class='invert')    
                    if image_id
                        a(href="{{c.url image_id }}" target='_window')
                            img.ui.rounded.image(src="{{c.url image_id gravity='face' crop='fit'}}" class='invert')
                    else if image_url
                        // a(href="/question/#{_id}/view")
                        img.ui.pointer.rounded.inset.image(src=image_url class=currentUser.invert_class)
                
                    if youtube_id
                        +youtube_view key='youtube_id' d=true
                    .f12
                        |!{body}
                    if key_value_is 'question_type' 'multiple_choice'
                        .ui.button #{mc_option_1}
                        .ui.button #{mc_option_2}
                        .ui.button #{mc_option_3}
                        .ui.button #{mc_option_4}
                    +comments
                    .ui.button.add_answer
                        i.plus.icon 
                        |answer
                    // each question_answers
                    //     .ui.segment
                    //         .ui.header #{title}
                    //         if can_edit
                    //             +session_boolean_toggle key='is_editing'
                    //         if session is_editing
                    //             +text_edit key='title' d=true
                    //         .ui.label 
                    //             i.user.outline.icon
                    //             |#{_author.username}
                .five.wide.column
                    .ui.header question type: #{question_type}
                    if can_edit
                        a.ui.circular.icon.big.button.edit_question(href="/question/#{_id}/edit")
                            i.large.pencil.icon
                    +vote
                    div
                    .ui.segment
                        .ui.grey.header 
                            i.eye.icon
                            |visible
                        // +kve k='vis' v='public'
                        // +kve k='vis' v='friends'
                        // +kve k='vis' v='list'
                    div
                    .ui.grey.inline.header 
                        i.hand.holding.heart.icon
                        |bounties
                    .ui.circular.icon.button.add_bounty(title='add bounty')
                        i.plus.icon
                    // each question_bounties
                    //     +question_bounty
                    .ui.grey.inline.header 
                        i.fork.icon
                        |dependencies
                    .ui.circular.icon.button.add_dependency(title='add dependency')
                        i.plus.icon
                    .ui.selection.link.large.list
                        // each dependencies
                        //     a.item(href="/question/#{_id}/view") #{title}
                    .ui.inline.grey.inline.header 
                        i.sitemap.icon
                        |#{dependents.length}
                        |dependents
                    .ui.icon.circular.button.add_dependent
                        i.plus.icon
                    .ui.selection.link.large.list
                        // each dependents
                        //     a.item(href="/question/#{_id}/view") #{title}
                    // .ui.button.connect_existing
                    //     i.fork.icon
                    //     |connect existing
                    // div
                    div
                    .ui.inline.small.grey.header 
                        i.grey.clock.icon
                        |#{when}
                    div
                    .ui.label #{views} views
                    div
                    |#{tags.length}
                    i.tag.icon
                    // +array_view key='tags' d=true
                    if dev
                        +print_this
                    +author_block
                    +viewing
                    
                    
                    
template(name='question_bounty')
    .ui.segment
        .ui.header #{amount}
        if can_edit
            +session_boolean_toggle key='editing_mode' label='edit'
        if session_is 'editing_mode'
            +number_edit key='amount' d=true