template(name='questions')
    .ui.grid
        .four.wide.column
            .ui.icon.fluid.input
                i.search.icon
                input.search_questions(type='text' placeholder='search questions')
            // .ui.icon.input
            //     i.plus.icon
            //     input.ask_question(type='text' placeholder='ask question')
            .ui.header total bounty available
            .ui.header total bounty earned
            if selected_tags
                // if many_tags
                //     a#clear_tags.ui.black.icon.small.compact.circular.button.select_term
                //         i.remove.icon
                each selected_tags
                    +unselect_tag
            .ui.inline.input 
                input.search_title(type='text' autofocus='')
            each tag_results
                +tag_selector
            +session_boolean_toggle key='view_open' label='view open'
            +session_boolean_toggle key='view_your_questions' label='your questions'
            +session_boolean_toggle key='view_your_answers' label='your answers'
        
        .twelve.wide.column
            |limit
            +session_key_value_edit key='limit' value=1 label='1'
            +session_key_value_edit key='limit' value=10 label='10'
            |sort
            +session_key_value_edit key='sort_key' value='_timestamp' label='when'
            +session_key_value_edit key='sort_key' value='bounty' label='bounty'
            +session_key_value_edit key='sort_direction' value=-1 label='up'
            +session_key_value_edit key='sort_direction' value=1 label='down'
            |view
            +session_key_value_edit key='view_mode' value='cards' label='cards' icon='clone'
            +session_key_value_edit key='view_mode' value='list' label='list' icon='list'
            .spacer
            if session_key_value_is 'view_mode' 'list'
                .ui.large.link.list 
                    each questions 
                        a.item(href="/question/#{_id}/view") #{title}
            else
                .ui.cards
                    each questions
                        +question
                
        
template(name='session_key_value_edit')    
    .ui.button.set_session_var
        if icon 
            i.icon(class=icon)
        |#{label}
                        
// template(name='key_value_edit')    
//     .ui.button.set_key_value
//         |#{label}
                        
                        
                        
template(name='unselect_tag')
    a.unselect_tag.ui.black.big.image.circular.label.select_term(href='#')
        if term
            img.ui.avatar.compact.image(src=term.watson.metadata.image)    
        strong #{this}

template(name='tag_selector')
    // a.ui.big.image.circular.label.pointer.select_tag.select_term(href='#' title="#{count} results" class=selector_header_class)
    a.ui.tertiary.basic.circular.button.select_tag.select_term(href='#' title="#{count} results" class=selector_header_class)
        if term
            if term.watson.metadata.image
                img.ui.avatar.compact.invert.image(src=term.watson.metadata.image)    
        | #{name}
        // small #{count}
                        